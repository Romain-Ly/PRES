
\subsubsection{Topologie}
\label{sec:annexe1:bugs:topo}

\`A la création de la topologie mininet, il est nécessaire de donner
des noms courts aux hôtes et aux switchs.\\

Il n'est pas possible de créer deux liens entre les mêmes n\oe uds de
la classe ``Topo''. Pour contourner cette limitation, il faut créé la
topologie avec un seul lien puis dans la classe ``Mininet'', rajouter
le second lien. C'est pourquoi, dans le fichier
``\emph{pyMPTCP\_topo.py}'', il y a deux définitions pour la même
topologie: une pour la classe Topo (\emph{topo()}) et une autre pour
la classe Mininet (\emph{topo\_options(args,net)}) qui sera executé
séquentiellement lors de la simulation.\\


\subsubsection{mininet}
\label{sec:annexe1:bugs:mininet}

\paragraph{iperf et ping}
L'utilisation conjointe de la commande \emph{iperf} et de la commande
ping dans une simulation produit une erreur du calcul du délai par la
commande ping. Ce délai augmente exponentiellement vers environ
1000\,ms. Si on analyse les traces enregistrés avec \emph{tcpdump},
les réponses aux \emph{echo request} se produisent bien plus
rapidement que ne laissent sugérer les résultats de la commande
\emph{ping}. L'utilisation conjointe de ces deux applications marchent
très bien entre la machine physique et la VM et il est probable que ce
problème soit lié à mininet.\\

\paragraph{sshd}
\label{sec:annexe1:sshd}

\begin{verbatim}
usage: sudo mptc_khal.py --sshd
\end{verbatim}

Cette option lance le démon ssh dans chacun des n\oe uds avec la
commande 
\begin{verbatim}
/usr/sbin/sshd -o UseDNS=no -u0
\end{verbatim}. 

Pour l'instant, seul la connexion à partir de root avec le premier
hôte (172.16.0.1) fonctionne. En effet la résolution ARP échoue pour
les autres hôtes (pas de paquets ARP reply en utilisant
tcpdump).\\ 

sur le n\oe ud root
\begin{verbatim}
tcpdump -i root-eth0 arp
\end{verbatim}. 

Cependant, il reste possible de se connecter aux autres hôtes par ssh
via le premier hôte.


\paragraph{MSS}
Lorsque nous fixons le \emph{Maximum Segment Size} à 1460 octets, nous
obtenons ce message d'erreur:
\begin{verbatim}
  WARNING: attempt to set TCP maximum segment size to 1460, but got
  536
\end{verbatim}

Cependant, si nous analysons les paquets enregistrés grâce à
\emph{tcpdump}, nous observons que le MSS négocié pendant le
\emph{handshake} de la connexion est bien de 1460 octets et que la
taille des paquets de données est de 1428 octets.

\paragraph{iperf3}
Dans l'état des scripts, \emph{Iperf3} produit une erreur à la fin de
la simulation. Il est nécessaire de nettoyer la simulation et il n'est
pas possible pour l'instant d'utiliser les scripts \emph{shell} pour
effectuer des simulations automatisées.

\begin{verbatim}
sudo bash shMPTCP.sh clean
\end{verbatim}



